<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hirdet√©s forr√°s</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
/* A DESIGN NEM V√ÅLTOZOTT */
body{margin:0;font-family:"Segoe UI",Arial,sans-serif;background:#f4f6f8;height:100vh;display:flex;align-items:center;justify-content:center}
.container{width:90%;max-width:700px;text-align:center}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:18px}
h1{margin-bottom:30px}
.btn{padding:26px;font-size:22px;border-radius:16px;color:#fff;border:0;display:flex;gap:14px;align-items:center}
.facebook{background:#1877f2}
.instagram{background:linear-gradient(45deg,#f58529,#dd2a7b,#8134af,#515bd4)}
.google{background:#4285f4}
.offline{background:#6c757d}
.referral{background:#28a745}
.other{background:#343a40}
.thankyou{font-size:38px;font-weight:bold}
</style>
</head>

<body>

<div class="container" id="main">
<h1>Hol tal√°lkozt√°l a hirdet√©s√ºnkkel?</h1>
<div class="grid">
<button class="btn facebook" onclick="send('Facebook')"><i class="fa-brands fa-facebook-f"></i>Facebook</button>
<button class="btn instagram" onclick="send('Instagram')"><i class="fa-brands fa-instagram"></i>Instagram</button>
<button class="btn google" onclick="send('Google')"><i class="fa-brands fa-google"></i>Google</button>
<button class="btn offline" onclick="send('Plak√°t / Sz√≥r√≥lap')">Plak√°t / Sz√≥r√≥lap</button>
<button class="btn referral" onclick="send('Ismer≈ës aj√°nlotta')">Ismer≈ës aj√°nlotta</button>
<button class="btn other" onclick="send('Egy√©b')">Egy√©b</button>
</div>
</div>

<div class="container" id="thanks" style="display:none">
<div class="thankyou">K√∂sz√∂nj√ºk! üôå</div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwZcGLY7c6WFgmKluc9lg-HVOUnUlAvHSLmJqDiZJHleEtt4pp2ge8dJL_h2CnpJI3U/exec";

function send(source){
  const entry={
    shop:"F≈ë √ºzlet",
    source:source,
    time:new Date().toISOString()
  };

  let q=JSON.parse(localStorage.getItem("queue")||"[]");
  q.push(entry);
  localStorage.setItem("queue",JSON.stringify(q));

  document.getElementById("main").style.display="none";
  document.getElementById("thanks").style.display="block";

  setTimeout(()=>{
    document.getElementById("thanks").style.display="none";
    document.getElementById("main").style.display="block";
  },3000);

  flush();
}

function flush(){
  let q=JSON.parse(localStorage.getItem("queue")||"[]");
  if(!q.length || !navigator.onLine) return;

  fetch(SCRIPT_URL,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify(q)
  }).then(r=>{
    if(r.ok) localStorage.removeItem("queue");
  });
}

setInterval(flush,5000);
</script>

</body>
</html>
